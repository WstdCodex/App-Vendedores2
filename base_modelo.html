<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Batches - WStandard{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    {% block extra_head %}{% endblock %}
</head>

<body class="bg-gray-100">
    <!-- Header con logo y usuario -->
    <header class="header">
        <div class="header-content">
            <div class="logo-container">
                <div class="logo">
                    <img src="{{ url_for('static', filename='img/image.png') }}" alt="logo">


                    <img src="{{ url_for('static', filename='img/WStandard.png') }}" alt="logo WStandard">

                    <img src="{{ url_for('static', filename='img/WStandard.png') }}" alt="logo WStandard" width="600">


                </div>
            </div>
            <div class="user-section">
                <span id="currentUser">{{ session.get('user_fullname', 'Usuario') }}</span>
                <a href="/logout" class="logout-btn">Cerrar Sesión</a>
            </div>
        </div>
    </header>

    <!-- Menú de navegación -->
    <nav class="nav-menu">
        <div class="nav-menu-content">
            {% if session.get('is_admin') %}
            <a href="/admin/management" {% if request.endpoint in ['user_bp.admin_management', 'user_bp.blocked_users'] %}class="active"{% endif %}>
                Administración
            </a>
            {% endif %}
            <a href="/upload_pdf" >
                Principal
            </a>
            <a href="{{ url_for('list_publications') }}" {% if request.endpoint in ['list_publications','publication_details','add_publication','upload_publications_excel'] %}class="active"{% endif %}>
                Publicaciones
            </a>
            <a href="{{ url_for('alerts') }}" {% if request.endpoint == 'alerts' %}class="active"{% endif %}>
                Alertas
            </a>
            {% block extra_nav %}{% endblock %}
        </div>
    </nav>

    <!-- Contenido principal -->
    <main>
        <div class="container mx-auto px-4 py-8">
            <!-- Mensajes flash -->
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="mb-4 p-4 rounded {% if category == 'error' %}bg-red-100 text-red-700{% else %}bg-green-100 text-green-700{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <!-- Contenido específico de cada página -->
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Footer (opcional) -->
    {% block footer %}{% endblock %}

    <!-- Scripts adicionales -->
    {% block extra_scripts %}{% endblock %}
</body>

</html>